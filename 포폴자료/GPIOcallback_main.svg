<?xml version="1.0" standalone="no"?>
<svg style="background: #fff" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2008px" height="1324px" viewBox="-0.5 -0.5 2008 1324"><defs><style>* {margin: 0px; padding: 0px;}</style></defs><g><rect x="1187" y="48" width="820" height="1274" rx="57.4" ry="57.4" fill="#ffffff" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="end" font-size="45px"><text x="1182" y="39">main.c</text></g><path d="M 0 244 L 0 182 L 1045 182 L 1045 244" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 244 L 0 1322 L 1045 1322 L 1045 244" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 244 L 1045 244" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="30px"><text x="520.75" y="225.5">GPIO External Interrupt Callback</text></g><path d="M 706.04 1056 L 873.96 1056 C 947.14 1056 1006.5 1101.89 1006.5 1158.5 C 1006.5 1215.11 947.14 1261 873.96 1261 L 706.04 1261 C 632.86 1261 573.5 1215.11 573.5 1158.5 C 573.5 1101.89 632.86 1056 706.04 1056 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 694.54 810.5 L 862.46 810.5 C 935.64 810.5 995 856.39 995 913 C 995 969.61 935.64 1015.5 862.46 1015.5 L 694.54 1015.5 C 621.36 1015.5 562 969.61 562 913 C 562 856.39 621.36 810.5 694.54 810.5 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 706.04 574.5 L 873.96 574.5 C 947.14 574.5 1006.5 620.39 1006.5 677 C 1006.5 733.61 947.14 779.5 873.96 779.5 L 706.04 779.5 C 632.86 779.5 573.5 733.61 573.5 677 C 573.5 620.39 632.86 574.5 706.04 574.5 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(53.5,279.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="523" height="34"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 28px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font><font style="font-size: 30px">interval : 버튼 누른 시간을 계산한 변수 </font><br/></font></div></div></foreignObject></g><path d="M 485 450.5 L 558.63 450.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 563.88 450.5 L 556.88 454 L 558.63 450.5 L 556.88 447 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 265 365.5 L 485 450.5 L 265 535.5 L 45 450.5 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="25px"><text x="263.25" y="429.25">if(interval &lt; 130)</text><text x="263.25" y="489.25">버튼이 짧게 눌리면</text></g><path d="M 475 656.5 L 524.5 656.5 L 568.13 656.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 573.38 656.5 L 566.38 660 L 568.13 656.5 L 566.38 653 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 260 567 L 475 657 L 260 747 L 45 657 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="25px"><text x="258.25" y="635.75">if(130 &lt;= interval &lt; 200)</text><text x="258.25" y="695.75">One Click 상태</text></g><g transform="translate(645.5,616.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="289" height="130"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 28px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font style="font-size: 25px"><b><span>btn_cnt = 0<br/></span>버튼 카운팅을 하지 않음<br/>current_state.mode를 <br/>TIME_SETTING으로 바꿈</b><br/></font></div></div></foreignObject></g><path d="M 483 889 L 537 889 L 563.13 889" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 568.38 889 L 561.38 892.5 L 563.13 889 L 561.38 885.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 258 785.5 L 483 890.5 L 258 995.5 L 33 890.5 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="25px"><text x="256.25" y="869.25">if(300 &lt;= interval &lt;= 1000 )</text><text x="256.25" y="929.25">Long Click 상태</text></g><g transform="translate(593.5,835.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="393" height="130"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 28px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font style="font-size: 25px"><b><span>btn_cnt = 0<br/></span>버튼 카운팅을 하지 않음<br/>current_state.mode를 <br/>ALARM_TIME_SETTING으로 바꿈</b><br/></font></div></div></foreignObject></g><path d="M 494 1146 L 567.63 1146" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 572.88 1146 L 565.88 1149.5 L 567.63 1146 L 565.88 1142.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 254.5 1031 L 494 1146 L 254.5 1261 L 15 1146 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="25px"><text x="252.75" y="1094.75">if(btn_cnt &gt;= 5)</text><text x="252.75" y="1154.75">버튼이 짧게 눌린 순간이</text><text x="252.75" y="1184.75">2번 이상이면</text><text x="252.75" y="1214.75">Double Click 상태</text></g><g transform="translate(625.5,1093.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="367" height="130"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 28px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font style="font-size: 25px"><b><span>btn_cnt = 0<br/></span>버튼 카운팅 변수값을 다시 0으로<br/>current_state.mode를 <br/>MUSIC_SELECT으로 바꿈 </b><br/></font></div></div></foreignObject></g><path d="M 700.54 352 L 868.46 352 C 941.64 352 1001 397.89 1001 454.5 C 1001 511.11 941.64 557 868.46 557 L 700.54 557 C 627.36 557 568 511.11 568 454.5 C 568 397.89 627.36 352 700.54 352 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(625.5,389.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="317" height="130"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 28px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font style="font-size: 25px"><b><span>btn_cnt += 3<br/></span>버튼 카운팅 변수를 3씩 증가<br/>*조이스틱을 한 번 눌렀을 때 <br/>3개씩 카운팅 됨 </b><br/></font></div></div></foreignObject></g><path d="M 1246 141 L 1246 102 L 1967 102 L 1967 141" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1246 141 L 1246 1262 L 1967 1262 L 1967 141" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1246 141 L 1967 141" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="25px"><text x="1604.75" y="131.5">while(1)</text></g><path d="M 1426.04 297 L 1294.74 297 Q 1270.5 297 1279.19 285.33 L 1354.73 183.67 Q 1363.42 172 1387.66 172 L 1650.26 172 Q 1674.5 172 1665.81 183.67 L 1590.27 285.33 Q 1581.58 297 1557.34 297 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="25px"><text x="1470.75" y="243.25">switch(current.state.mode)</text></g><path d="M 1526 313 L 1675 401 L 1526 489 L 1377 401 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="20px"><text x="1524.25" y="407.25">case NORMAL_STATE:</text></g><path d="M 1723 352 L 1723 313 L 1935 313 L 1935 352" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1723 352 L 1723 431 L 1935 431 L 1935 352" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1723 352 L 1935 352" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="20px"><text x="1827.25" y="340">get_time()</text></g><g transform="translate(1759.5,368.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="131" height="31"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 28px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font><font style="font-size: 20px">현재 시간 출력</font><br/></font></div></div></foreignObject></g><path d="M 1675 401.5 L 1699.5 401.5 L 1699.5 371.5 L 1716.63 371.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1721.88 371.5 L 1714.88 375 L 1716.63 371.5 L 1714.88 368 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1523 525 L 1669 616.5 L 1523 708 L 1377 616.5 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="20px"><text x="1521.25" y="622.75">case TIME_SETTING:</text></g><path d="M 1730 574.5 L 1730 535.5 L 1932 535.5 L 1932 574.5" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1730 574.5 L 1730 642.5 L 1932 642.5 L 1932 574.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1730 574.5 L 1932 574.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="20px"><text x="1829.25" y="562.5">time_set_mode()</text></g><path d="M 1669 616.5 L 1699.5 616.5 L 1699.5 589 L 1723.63 589" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1728.88 589 L 1721.88 592.5 L 1723.63 589 L 1721.88 585.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1535.5 753 L 1679 855 L 1535.5 957 L 1392 855 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="19px"><text x="1533.75" y="860.75">case ALARM_TIME_SETTING:</text></g><path d="M 1733 786 L 1733 747 L 1935 747 L 1935 786" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1733 786 L 1733 845 L 1935 845 L 1935 786" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1733 786 L 1935 786" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="20px"><text x="1832.25" y="774">alarm_set_mode()</text></g><path d="M 1679 854 L 1707 854 L 1707 796.5 L 1726.63 796.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1731.88 796.5 L 1724.88 800 L 1726.63 796.5 L 1724.88 793 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1543.5 1006.5 L 1689 1104 L 1543.5 1201.5 L 1398 1104 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="20px"><text x="1541.75" y="1110.25">case MUSIC_SELECT:</text></g><path d="M 1740 1022 L 1740 983 L 1935 983 L 1935 1022" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1740 1022 L 1740 1093 L 1935 1093 L 1935 1022" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1740 1022 L 1935 1022" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="20px"><text x="1835.75" y="1010">music_set_mode()</text></g><path d="M 1689 1104 L 1714.5 1104 L 1714.5 1039 L 1733.63 1039" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1738.88 1039 L 1731.88 1042.5 L 1733.63 1039 L 1731.88 1035.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(1745.5,589.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="177" height="31"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 28px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font><font style="font-size: 20px">시간 설정 모드 진입</font><br/></font></div></div></foreignObject></g><g transform="translate(1748.5,799.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="177" height="31"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 28px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font><font style="font-size: 20px">알람 설정 모드 진입</font><br/></font></div></div></foreignObject></g><g transform="translate(1752.5,1040.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="177" height="31"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 28px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font><font style="font-size: 20px">노래 설정 모드 진입</font><br/></font></div></div></foreignObject></g><path d="M 1306.5 306.64 M 3682.5 306.64 M 3682.5 1104 M 1306.5 1104 L 1306.5 300" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1343 364.59 M 4319 364.59 M 4319 435 M 1343 435 L 1343 364" fill="none" stroke="#000000" stroke-miterlimit="10" transform="rotate(90,1343,399.5)" pointer-events="none"/><path d="M 1343 581.59 M 4319 581.59 M 4319 652 M 1343 652 L 1343 581" fill="none" stroke="#000000" stroke-miterlimit="10" transform="rotate(90,1343,616.5)" pointer-events="none"/><path d="M 1350 813.2 M 4326 813.2 M 4326 897.5 M 1350 897.5 L 1350 812.5" fill="none" stroke="#000000" stroke-miterlimit="10" transform="rotate(90,1350,855)" pointer-events="none"/><path d="M 1354 1058.76 M 4330 1058.76 M 4330 1150 M 1354 1150 L 1354 1058" fill="none" stroke="#000000" stroke-miterlimit="10" transform="rotate(90,1354,1104)" pointer-events="none"/><path d="M 1006.5 676.5 L 1144.5 676.5 L 1144.5 616.5 L 1368.88 616.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1375.88 616.5 L 1368.88 620 L 1368.88 613 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 995 914 L 1147 914 L 1147 854 L 1383.88 854" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1390.88 854 L 1383.88 857.5 L 1383.88 850.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1006.5 1159 L 1157 1159 L 1157 1104 L 1389.88 1104" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1396.88 1104 L 1389.88 1107.5 L 1389.88 1100.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/></g></svg>